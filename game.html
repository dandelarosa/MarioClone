<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <!-- Begin Imports -->
  <script src="game/bricks.js"></script>
  <script src="game/camera.js"></script>
  <script src="game/game.js"></script>
  <script src="game/globals.js"></script>
  <script src="game/grid.js"></script>
  <script src="graphics/graphics.js"></script>
  <script src="input/keyboard.js"></script>
  <script src="input/keys.js"></script>
  <script src="input/mouse.js"></script>
  <!-- End Imports -->
  <title>My New Game POC</title>
</head>

<body>
<center>
<!-- NES screen size @2x -->
<canvas id="gameCanvas" width="512" height="480"></canvas>
</center>

<script>
var game;
window.onload = function() {
  globals.setup();
  game = new Game();
  displayLevelData();
  setInterval(gameUpdate, 1000 / game.fps);
};
function gameUpdate() {
  game.update();
}
</script>

<form id="levelData" action="javascript:updateLevelData();">
  <input id="levelData.data" type="text" value=""/>
  <input type="submit" value="Update grid"/>
</form>
<script>
function displayLevelData() {
  var input = document.getElementById('levelData.data');
  var value = game.gridData.toString();
  input.value = value;
}
function updateLevelData() {
  var input = document.getElementById('levelData.data');
  var value = input.value;
  var data = value.split(',');
  var finalData = [];
  for (var i = 0; i < data.length; i++) {
    finalData.push(parseInt(data[i]));
  }
  game.gridData = finalData;
  game.reset();
}
</script>

</body>
</html>
